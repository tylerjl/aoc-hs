<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Array.Repa</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Array-Repa.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">repa-3.4.1.1: High performance, regular, shape polymorphic parallel arrays.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Array.Repa</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Abstract array representation</a></li><li><a href="#g:2">Computation</a></li><li><a href="#g:3">Concrete array representations</a><ul><li><a href="#g:4">Delayed representation</a></li><li><a href="#g:5">Unboxed vector representation</a></li></ul></li><li><a href="#g:6">Operators</a><ul><li><a href="#g:7">Index space transformations</a></li><li><a href="#g:8">Slice transformations</a></li><li><a href="#g:9">Structure preserving operations</a></li><li><a href="#g:10">Generic traversal</a></li><li><a href="#g:11">Interleaving</a></li><li><a href="#g:12">Reduction</a></li><li><a href="#g:13">Selection</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Repa arrays are wrappers around a linear structure that holds the element
   data. </p><p>The representation tag determines what structure holds the data.</p><p>Delayed Representations (functions that compute elements)</p><ul><li><code><a href="Data-Array-Repa.html#t:D">D</a></code>  -- Functions from indices to elements.</li><li><code><a href="Data-Array-Repa-Repr-Cursored.html#t:C">C</a></code>  -- Cursor functions.</li></ul><p>Manifest Representations (real data)</p><ul><li><code><a href="Data-Array-Repa.html#t:U">U</a></code>  -- Adaptive unboxed vectors.</li><li><code><a href="Data-Array-Repa-Repr-Vector.html#t:V">V</a></code>  -- Boxed vectors.</li><li><code><a href="Data-Array-Repa-Repr-ByteString.html#t:B">B</a></code>  -- Strict ByteStrings.</li><li><code><a href="Data-Array-Repa-Repr-ForeignPtr.html#t:F">F</a></code>  -- Foreign memory buffers.</li></ul><p>Meta Representations</p><ul><li><code><a href="Data-Array-Repa-Repr-Partitioned.html#t:P">P</a></code>  -- Arrays that are partitioned into several representations.</li><li><code><a href="Data-Array-Repa-Repr-HintSmall.html#t:S">S</a></code>  -- Hints that computing this array is a small amount of work,
             so computation should be sequential rather than parallel to avoid
             scheduling overheads.</li><li><code><a href="Data-Array-Repa-Repr-HintInterleave.html#t:I">I</a></code>  -- Hints that computing this array will be an unbalanced workload,
             so computation of successive elements should be interleaved between
             the processors</li><li><code>X</code>  -- Arrays whose elements are all undefined.</li></ul><p>Array fusion is achieved via the delayed (<code><a href="Data-Array-Repa.html#t:D">D</a></code>) and cursored (<code><a href="Data-Array-Repa-Repr-Cursored.html#t:C">C</a></code>)
  representations. At compile time, the GHC simplifier combines the functions
  contained within <code><a href="Data-Array-Repa.html#t:D">D</a></code> and <code><a href="Data-Array-Repa-Repr-Cursored.html#t:C">C</a></code> arrays without needing to create manifest
  intermediate arrays. </p><p><em>Advice for writing fast code:</em></p><ol><li>Repa does not support nested parallellism. 
     This means that you cannot <code><a href="Data-Array-Repa.html#v:map">map</a></code> a parallel worker function across
     an array and then call <code><a href="Data-Array-Repa.html#v:computeP">computeP</a></code> to evaluate it, or pass a parallel
     worker to parallel reductions such as <code><a href="Data-Array-Repa.html#v:foldP">foldP</a></code>. If you do then you will
     get a run-time warning and the code will run very slowly.</li><li>Arrays of type <code>(Array D sh a)</code> or <code>(Array C sh a)</code> are <em>not real arrays</em>.
     They are represented as functions that compute each element on demand.
     You need to use <code><a href="Data-Array-Repa.html#v:computeS">computeS</a></code>, <code><a href="Data-Array-Repa.html#v:computeP">computeP</a></code>, <code><a href="Data-Array-Repa.html#v:computeUnboxedP">computeUnboxedP</a></code>
     and so on to actually evaluate the elements.</li><li>Add <code>INLINE</code> pragmas to all leaf-functions in your code, expecially ones
     that compute numeric results. Non-inlined lazy function calls can cost
     upwards of 50 cycles each, while each numeric operator only costs one (or less).
     Inlining leaf functions also ensures they are specialised at the appropriate
     numeric types.</li><li>Add bang patterns to all function arguments, and all fields of your data
     types. In a high-performance Haskell program, the cost of lazy evaluation
     can easily dominate the run time if not handled correctly. You don't want
     to rely on the strictness analyser in numeric code because if it does not
     return a perfect result then the performance of your program will be awful.
     This is less of a problem for general Haskell code, and in a different
     context relying on strictness analysis is fine.</li><li>Scheduling an 8-thread parallel computation can take 50us on a Linux machine. 
     You should switch to sequential evaluation functions like <code><a href="Data-Array-Repa.html#v:computeS">computeS</a></code> and
     <code><a href="Data-Array-Repa.html#v:foldS">foldS</a></code> for small arrays in inner loops, and at the bottom of a 
     divide-and-conquer algorithm. Consider using a <code><a href="Data-Array-Repa.html#v:computeP">computeP</a></code> that evaluates
     an array defined using <code><a href="Data-Array-Repa.html#v:computeS">computeS</a></code> or <code><a href="Data-Array-Repa.html#v:foldS">foldS</a></code> for each element.</li><li>Compile the modules that use Repa with the following flags:
     <code>-Odph -rtsopts -threaded</code>
     <code>-fno-liberate-case -funfolding-use-threshold1000 -funfolding-keeness-factor1000</code>
     <code>-fllvm -optlo-O3</code>
     You don't want the liberate-case transform because it tends to duplicate
     too much intermediate code, and is not needed if you use bang patterns
     as per point 4. The unfolding flags tell the inliner to not to fool around with 
     heuristics, and just inline everything. If the binaries become too big then 
     split the array part of your program into separate modules and only compile
     those with the unfolding flags.</li><li>Repa writes to the GHC eventlog at the start and end of  each parallel computation.
     Use threadscope to see what your program is doing.</li><li>When you're sure your program works, switch to the unsafe versions
     of functions like <code><a href="Data-Array-Repa.html#v:traverse">traverse</a></code>. These don't do bounds checks.</li></ol><p><em>Changes for Repa 3.2:</em></p><ol><li>Renamed some Repa 3.1 type classes to have more intuitive names: 
     <code>Repr</code> -&gt; <code><a href="Data-Array-Repa.html#t:Source">Source</a></code>, <code>Fill</code> -&gt; <code><a href="Data-Array-Repa-Eval.html#t:Load">Load</a></code>, <code>Fillable</code> -&gt; <code><a href="Data-Array-Repa-Eval.html#t:Target">Target</a></code>, <code>Combine</code> -&gt; <code><a href="Data-Array-Repa.html#t:Structured">Structured</a></code>.</li><li>Also renamed <code>MArray</code> -&gt; <code><a href="Data-Array-Repa-Eval.html#t:MVec">MVec</a></code> to emphasise its linear structure.</li><li>Made <code><a href="Data-Array-Repa.html#t:Array">Array</a></code> and <code><a href="Data-Array-Repa-Eval.html#t:MVec">MVec</a></code> associated types of <code><a href="Data-Array-Repa.html#t:Source">Source</a></code> and <code><a href="Data-Array-Repa-Eval.html#t:Target">Target</a></code> respectively.</li><li>Added the <code><a href="Data-Array-Repa-Repr-HintSmall.html#t:S">S</a></code> (Smallness) and <code><a href="Data-Array-Repa-Repr-HintInterleave.html#t:I">I</a></code> (Interleave) hints.</li></ol></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short">module <a href="Data-Array-Repa-Shape.html">Data.Array.Repa.Shape</a></li><li class="src short">module <a href="Data-Array-Repa-Index.html">Data.Array.Repa.Index</a></li><li class="src short"><span class="keyword">class</span> <a href="#t:Source">Source</a> r e <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:Array">Array</a> r sh e</li><li><a href="#v:extent">extent</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh</li><li><a href="#v:index">index</a>, <a href="#v:unsafeIndex">unsafeIndex</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh -&gt; e</li><li><a href="#v:linearIndex">linearIndex</a>, <a href="#v:unsafeLinearIndex">unsafeLinearIndex</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e</li><li><a href="#v:deepSeqArray">deepSeqArray</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; b -&gt; b</li></ul></li><li class="src short"><a href="#v:-33-">(!)</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh -&gt; e</li><li class="src short"><a href="#v:toList">toList</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; [e]</li><li class="src short"><a href="#v:deepSeqArrays">deepSeqArrays</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; [<a href="Data-Array-Repa.html#t:Array">Array</a> r sh e] -&gt; b -&gt; b</li><li class="src short"><a href="#v:computeP">computeP</a> :: (<a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e)</li><li class="src short"><a href="#v:computeS">computeS</a> :: (<a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e</li><li class="src short"><a href="#v:copyP">copyP</a> :: (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e)</li><li class="src short"><a href="#v:copyS">copyS</a> :: (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e</li><li class="src short"><span class="keyword">data</span> <a href="#t:D">D</a></li><li class="src short"><a href="#v:fromFunction">fromFunction</a> :: sh -&gt; (sh -&gt; a) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh a</li><li class="src short"><a href="#v:toFunction">toFunction</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; (sh, sh -&gt; a)</li><li class="src short"><a href="#v:delay">delay</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e</li><li class="src short"><span class="keyword">data</span> <a href="#t:U">U</a></li><li class="src short"><a href="#v:computeUnboxedP">computeUnboxedP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e)</li><li class="src short"><a href="#v:computeUnboxedS">computeUnboxedS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e</li><li class="src short"><a href="#v:fromListUnboxed">fromListUnboxed</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; sh -&gt; [a] -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</li><li class="src short"><a href="#v:fromUnboxed">fromUnboxed</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; sh -&gt; <a href="../vector-0.11.0.0/Data-Vector-Unboxed.html#t:Vector">Vector</a> e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e</li><li class="src short"><a href="#v:toUnboxed">toUnboxed</a> :: <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e -&gt; <a href="../vector-0.11.0.0/Data-Vector-Unboxed.html#t:Vector">Vector</a> e</li><li class="src short"><a href="#v:reshape">reshape</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e) =&gt; sh2 -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</li><li class="src short"><a href="#v:append">append</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</li><li class="src short"><a href="#v:-43--43-">(++)</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</li><li class="src short"><a href="#v:extract">extract</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; sh -&gt; sh -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e</li><li class="src short"><a href="#v:transpose">transpose</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r ((sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> ((sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</li><li class="src short"><a href="#v:backpermute">backpermute</a> :: <span class="keyword">forall</span> r sh1 sh2 e. (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; sh2 -&gt; (sh2 -&gt; sh1) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh1 e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</li><li class="src short"><a href="#v:backpermuteDft">backpermuteDft</a> :: <span class="keyword">forall</span> r1 r2 sh1 sh2 e. (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 e -&gt; (sh2 -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> sh1) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</li><li class="src short">module <a href="Data-Array-Repa-Slice.html">Data.Array.Repa.Slice</a></li><li class="src short"><a href="#v:slice">slice</a> :: (<a href="Data-Array-Repa-Slice.html#t:Slice">Slice</a> sl, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl), <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl), <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl) e -&gt; sl -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl) e</li><li class="src short"><a href="#v:extend">extend</a> :: (<a href="Data-Array-Repa-Slice.html#t:Slice">Slice</a> sl, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl), <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl), <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; sl -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl) e</li><li class="src short"><a href="#v:map">map</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a) =&gt; (a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh b</li><li class="src short"><a href="#v:zipWith">zipWith</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b) =&gt; (a -&gt; b -&gt; c) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</li><li class="src short"><a href="#v:-43--94-">(+^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</li><li class="src short"><a href="#v:-45--94-">(-^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</li><li class="src short"><a href="#v:-42--94-">(*^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</li><li class="src short"><a href="#v:-47--94-">(/^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</li><li class="src short"><span class="keyword">class</span> <a href="#t:Structured">Structured</a> r1 a b <span class="keyword">where</span><ul class="subs"><li><span class="keyword">type</span> <a href="#t:TR">TR</a> r1</li><li><a href="#v:smap">smap</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; (a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> (<a href="Data-Array-Repa.html#t:TR">TR</a> r1) sh b</li><li><a href="#v:szipWith">szipWith</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r c) =&gt; (c -&gt; a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> (<a href="Data-Array-Repa.html#t:TR">TR</a> r1) sh b</li></ul></li><li class="src short"><a href="#v:traverse">traverse</a> :: <span class="keyword">forall</span> r sh sh' a b. (<a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh') =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; (sh -&gt; sh') -&gt; ((sh -&gt; a) -&gt; sh' -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh' b</li><li class="src short"><a href="#v:traverse2">traverse2</a> :: <span class="keyword">forall</span> r1 r2 sh sh' sh'' a b c. (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh', <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh'') =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh' b -&gt; (sh -&gt; sh' -&gt; sh'') -&gt; ((sh -&gt; a) -&gt; (sh' -&gt; b) -&gt; sh'' -&gt; c) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh'' c</li><li class="src short"><a href="#v:traverse3">traverse3</a> :: <span class="keyword">forall</span> r1 r2 r3 sh1 sh2 sh3 sh4 a b c d. (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh3, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh4) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 sh3 c -&gt; (sh1 -&gt; sh2 -&gt; sh3 -&gt; sh4) -&gt; ((sh1 -&gt; a) -&gt; (sh2 -&gt; b) -&gt; (sh3 -&gt; c) -&gt; sh4 -&gt; d) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh4 d</li><li class="src short"><a href="#v:traverse4">traverse4</a> :: <span class="keyword">forall</span> r1 r2 r3 r4 sh1 sh2 sh3 sh4 sh5 a b c d e. (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r4 d, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh3, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh4, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh5) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 sh3 c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r4 sh4 d -&gt; (sh1 -&gt; sh2 -&gt; sh3 -&gt; sh4 -&gt; sh5) -&gt; ((sh1 -&gt; a) -&gt; (sh2 -&gt; b) -&gt; (sh3 -&gt; c) -&gt; (sh4 -&gt; d) -&gt; sh5 -&gt; e) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh5 e</li><li class="src short"><a href="#v:interleave2">interleave2</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</li><li class="src short"><a href="#v:interleave3">interleave3</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</li><li class="src short"><a href="#v:interleave4">interleave4</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r4 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r4 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</li><li class="src short"><a href="#v:foldP">foldP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a)</li><li class="src short"><a href="#v:foldS">foldS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</li><li class="src short"><a href="#v:foldAllP">foldAllP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; m a</li><li class="src short"><a href="#v:foldAllS">foldAllS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; a</li><li class="src short"><a href="#v:sumP">sumP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a)</li><li class="src short"><a href="#v:sumS">sumS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</li><li class="src short"><a href="#v:sumAllP">sumAllP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; m a</li><li class="src short"><a href="#v:sumAllS">sumAllS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; a</li><li class="src short"><a href="#v:equalsP">equalsP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh a -&gt; m <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:equalsS">equalsS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh a -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:selectP">selectP</a> :: (<a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>) -&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; a) -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> <a href="Data-Array-Repa-Index.html#t:DIM1">DIM1</a> a)</li></ul></div><div id="interface"><h1 id="g:1">Abstract array representation</h1><div class="top"><p class="src">module <a href="Data-Array-Repa-Shape.html">Data.Array.Repa.Shape</a></p></div><div class="top"><p class="src">module <a href="Data-Array-Repa-Index.html">Data.Array.Repa.Index</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Source" class="def">Source</a> r e <span class="keyword">where</span></p><div class="doc"><p>Class of array representations that we can read elements from.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Data-Array-Repa.html#v:extent">extent</a>, <a href="Data-Array-Repa.html#v:linearIndex">linearIndex</a>, <a href="Data-Array-Repa.html#v:deepSeqArray">deepSeqArray</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a name="t:Array" class="def">Array</a> r sh e</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:extent" class="def">extent</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh</p><div class="doc"><p>O(1). Take the extent (size) of an array.</p></div><p class="src"><a name="v:index" class="def">index</a>, <a name="v:unsafeIndex" class="def">unsafeIndex</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh -&gt; e</p><div class="doc"><p>O(1). Shape polymorphic indexing.</p></div><p class="src"><a name="v:linearIndex" class="def">linearIndex</a>, <a name="v:unsafeLinearIndex" class="def">unsafeLinearIndex</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; e</p><div class="doc"><p>O(1). Linear indexing into underlying, row-major, array representation.</p></div><p class="src"><a name="v:deepSeqArray" class="def">deepSeqArray</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; b -&gt; b</p><div class="doc"><p>Ensure an array's data structure is fully evaluated.</p></div></div><div class="subs instances"><p id="control.i:Source" class="caption collapser" onclick="toggleSection('i:Source')">Instances</p><div id="section.i:Source" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa.html#t:D">D</a> a</span></td><td class="doc"><p>Compute elements of a delayed array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa-Repr-ByteString.html#t:B">B</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word8">Word8</a></span></td><td class="doc"><p>Read elements from a <code><a href="../bytestring-0.10.6.0/Data-ByteString.html#t:ByteString">ByteString</a></code>.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa-Repr-ForeignPtr.html#t:F">F</a> a</span></td><td class="doc"><p>Read elements from a foreign buffer.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa.html#t:U">U</a> a</span></td><td class="doc"><p>Read elements from an unboxed vector array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa-Repr-Undefined.html#t:X">X</a> e</span></td><td class="doc"><p>Undefined array elements. Inspecting them yields <code><a href="../base-4.8.2.0/Prelude.html#v:error">error</a></code>.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa-Repr-Cursored.html#t:C">C</a> a</span></td><td class="doc"><p>Compute elements of a cursored array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa-Repr-Vector.html#t:V">V</a> a</span></td><td class="doc"><p>Read elements from a boxed vector array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> r1 a =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> (<a href="Data-Array-Repa-Repr-HintSmall.html#t:S">S</a> r1) a</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> r1 a =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> (<a href="Data-Array-Repa-Repr-HintInterleave.html#t:I">I</a> r1) a</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> (<a href="Data-Array-Repa-Repr-Partitioned.html#t:P">P</a> r1 r2) e</span></td><td class="doc"><p>Read elements from a partitioned array.</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:-33-" class="def">(!)</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; sh -&gt; e</p><div class="doc"><p>O(1). Alias for <code><a href="Data-Array-Repa.html#v:index">index</a></code></p></div></div><div class="top"><p class="src"><a name="v:toList" class="def">toList</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; [e]</p><div class="doc"><p>O(n). Convert an array to a list.</p></div></div><div class="top"><p class="src"><a name="v:deepSeqArrays" class="def">deepSeqArrays</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; [<a href="Data-Array-Repa.html#t:Array">Array</a> r sh e] -&gt; b -&gt; b</p><div class="doc"><p>Apply <code><a href="Data-Array-Repa.html#v:deepSeqArray">deepSeqArray</a></code> to up to four arrays. </p></div></div><h1 id="g:2">Computation</h1><div class="top"><p class="src"><a name="v:computeP" class="def">computeP</a> :: (<a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e)</p><div class="doc"><p>Parallel computation of array elements.</p><ul><li>The source array must have a delayed representation like <code><a href="Data-Array-Repa.html#t:D">D</a></code>, <code>C</code> or <code>P</code>, 
     and the result a manifest representation like <code>U</code> or <code>F</code>.</li><li>If you want to copy data between manifest representations then use
    <code><a href="Data-Array-Repa.html#v:copyP">copyP</a></code> instead.</li><li>If you want to convert a manifest array back to a delayed representation
     then use <code><a href="Data-Array-Repa.html#v:delay">delay</a></code> instead.</li></ul></div></div><div class="top"><p class="src"><a name="v:computeS" class="def">computeS</a> :: (<a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e</p><div class="doc"><p>Sequential computation of array elements.</p></div></div><div class="top"><p class="src"><a name="v:copyP" class="def">copyP</a> :: (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e)</p><div class="doc"><p>Parallel copying of arrays.</p><ul><li>This is a wrapper that delays an array before calling <code><a href="Data-Array-Repa.html#v:computeP">computeP</a></code>. </li><li>You can use it to copy manifest arrays between representations.</li></ul></div></div><div class="top"><p class="src"><a name="v:copyS" class="def">copyS</a> :: (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e, <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh e</p><div class="doc"><p>Sequential copying of arrays.</p></div></div><h1 id="g:3">Concrete array representations</h1><h2 id="g:4">Delayed representation</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:D" class="def">D</a></p><div class="doc"><p>Delayed arrays are represented as functions from the index to element value.</p><p>Every time you index into a delayed array the element at that position 
   is recomputed.</p></div><div class="subs instances"><p id="control.i:D" class="caption collapser" onclick="toggleSection('i:D')">Instances</p><div id="section.i:D" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa.html#t:D">D</a> a</span></td><td class="doc"><p>Compute elements of a delayed array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> e =&gt; <a href="Data-Array-Repa-Eval.html#t:LoadRange">LoadRange</a> <a href="Data-Array-Repa.html#t:D">D</a> <a href="Data-Array-Repa-Index.html#t:DIM2">DIM2</a> e</span></td><td class="doc"><p>Compute a range of elements in a rank-2 array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e</span></td><td class="doc"><p>Compute all elements in an array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa.html#t:D">D</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e) =&gt; <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> (<a href="Data-Array-Repa-Repr-HintInterleave.html#t:I">I</a> <a href="Data-Array-Repa.html#t:D">D</a>) sh e</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Repa.html#t:TR">TR</a> <a href="Data-Array-Repa.html#t:D">D</a> = <a href="Data-Array-Repa.html#t:D">D</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">data</span> <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh a = <a name="v:ADelayed" class="def">ADelayed</a> !sh (sh -&gt; a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:fromFunction" class="def">fromFunction</a> :: sh -&gt; (sh -&gt; a) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh a</p><div class="doc"><p>O(1). Wrap a function as a delayed array.</p></div></div><div class="top"><p class="src"><a name="v:toFunction" class="def">toFunction</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; (sh, sh -&gt; a)</p><div class="doc"><p>O(1). Produce the extent of an array, and a function to retrieve an
   arbitrary element.</p></div></div><div class="top"><p class="src"><a name="v:delay" class="def">delay</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> r e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e</p><div class="doc"><p>O(1). Delay an array.
   This wraps the internal representation to be a function from
   indices to elements, so consumers don't need to worry about
   what the previous representation was.</p></div></div><h2 id="g:5">Unboxed vector representation</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:U" class="def">U</a></p><div class="doc"><p>Unboxed arrays are represented as unboxed vectors.</p><p>The implementation uses <code>Data.Vector.Unboxed</code> which is based on type
   families and picks an efficient, specialised representation for every
   element type. In particular, unboxed vectors of pairs are represented
   as pairs of unboxed vectors.
   This is the most efficient representation for numerical data.</p></div><div class="subs instances"><p id="control.i:U" class="caption collapser" onclick="toggleSection('i:U')">Instances</p><div id="section.i:U" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a =&gt; <a href="Data-Array-Repa.html#t:Source">Source</a> <a href="Data-Array-Repa.html#t:U">U</a> a</span></td><td class="doc"><p>Read elements from an unboxed vector array.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e =&gt; <a href="Data-Array-Repa-Eval.html#t:Target">Target</a> <a href="Data-Array-Repa.html#t:U">U</a> e</span></td><td class="doc"><p>Filling of unboxed vector arrays.</p></td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa.html#t:U">U</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> sh, <a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> e, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> sh, <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> e, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">data</span> <a href="Data-Array-Repa-Eval.html#t:MVec">MVec</a> <a href="Data-Array-Repa.html#t:U">U</a> = <a name="v:UMVec" class="def">UMVec</a> (<a href="../vector-0.11.0.0/Data-Vector-Unboxed-Mutable.html#t:IOVector">IOVector</a> e)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="Data-Array-Repa.html#t:TR">TR</a> <a href="Data-Array-Repa.html#t:U">U</a> = <a href="Data-Array-Repa.html#t:D">D</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">data</span> <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a = <a name="v:AUnboxed" class="def">AUnboxed</a> !sh !(<a href="../vector-0.11.0.0/Data-Vector-Unboxed.html#t:Vector">Vector</a> a)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:computeUnboxedP" class="def">computeUnboxedP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e)</p><div class="doc"><p>Parallel computation of array elements.</p><ul><li>This is an alias for <code><a href="Data-Array-Repa.html#v:computeP">computeP</a></code> with a more specific type.</li></ul></div></div><div class="top"><p class="src"><a name="v:computeUnboxedS" class="def">computeUnboxedS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Eval.html#t:Load">Load</a> r1 sh e, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e</p><div class="doc"><p>Sequential computation of array elements..</p><ul><li>This is an alias for <code><a href="Data-Array-Repa.html#v:computeS">computeS</a></code> with a more specific type.</li></ul></div></div><div class="top"><p class="src"><a name="v:fromListUnboxed" class="def">fromListUnboxed</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; sh -&gt; [a] -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</p><div class="doc"><p>O(n). Convert a list to an unboxed vector array.</p><ul><li>This is an alias for <code><a href="Data-Array-Repa-Eval.html#v:fromList">fromList</a></code> with a more specific type.</li></ul></div></div><div class="top"><p class="src"><a name="v:fromUnboxed" class="def">fromUnboxed</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e) =&gt; sh -&gt; <a href="../vector-0.11.0.0/Data-Vector-Unboxed.html#t:Vector">Vector</a> e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e</p><div class="doc"><p>O(1). Wrap an unboxed vector as an array.</p></div></div><div class="top"><p class="src"><a name="v:toUnboxed" class="def">toUnboxed</a> :: <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> e =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh e -&gt; <a href="../vector-0.11.0.0/Data-Vector-Unboxed.html#t:Vector">Vector</a> e</p><div class="doc"><p>O(1). Unpack an unboxed vector from an array.</p></div></div><h1 id="g:6">Operators</h1><h2 id="g:7">Index space transformations</h2><div class="top"><p class="src"><a name="v:reshape" class="def">reshape</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e) =&gt; sh2 -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</p><div class="doc"><p>Impose a new shape on the elements of an array.
   The new extent must be the same size as the original, else <code><a href="../base-4.8.2.0/Prelude.html#v:error">error</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:append" class="def">append</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</p><div class="doc"><p>Append two arrays.</p></div></div><div class="top"><p class="src"><a name="v:-43--43-" class="def">(++)</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</p><div class="doc"><p>Append two arrays.</p></div></div><div class="top"><p class="src"><a name="v:extract" class="def">extract</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; sh</td><td class="doc"><p>Starting index.</p></td></tr><tr><td class="src">-&gt; sh</td><td class="doc"><p>Size of result.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh e</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh e</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Extract a sub-range of elements from an array.</p></div></div><div class="top"><p class="src"><a name="v:transpose" class="def">transpose</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r ((sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> ((sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) e</p><div class="doc"><p>Transpose the lowest two dimensions of an array.
      Transposing an array twice yields the original.</p></div></div><div class="top"><p class="src"><a name="v:backpermute" class="def">backpermute</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; sh2</td><td class="doc"><p>Extent of result array.</p></td></tr><tr><td class="src">-&gt; (sh2 -&gt; sh1)</td><td class="doc"><p>Function mapping each index in the result array
      to an index of the source array.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh1 e</td><td class="doc"><p>Source array.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Backwards permutation of an array's elements.</p></div></div><div class="top"><p class="src"><a name="v:backpermuteDft" class="def">backpermuteDft</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 e, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 e)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 e</td><td class="doc"><p>Default values (<code>arrDft</code>)</p></td></tr><tr><td class="src">-&gt; (sh2 -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> sh1)</td><td class="doc"><p>Function mapping each index in the result array
      to an index in the source array.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 e</td><td class="doc"><p>Source array.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh2 e</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Default backwards permutation of an array's elements.
      If the function returns <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> then the value at that index is taken
      from the default array (<code>arrDft</code>)</p></div></div><h2 id="g:8">Slice transformations</h2><div class="top"><p class="src">module <a href="Data-Array-Repa-Slice.html">Data.Array.Repa.Slice</a></p></div><div class="top"><p class="src"><a name="v:slice" class="def">slice</a> :: (<a href="Data-Array-Repa-Slice.html#t:Slice">Slice</a> sl, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl), <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl), <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl) e -&gt; sl -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl) e</p><div class="doc"><p>Take a slice from an array, according to a given specification.</p><p>For example, to take a row from a matrix use the following:</p><pre>slice arr (Any :. (5::Int) :. All)</pre><p>To take a column use:</p><pre>slice arr (Any :. (5::Int))</pre></div></div><div class="top"><p class="src"><a name="v:extend" class="def">extend</a> :: (<a href="Data-Array-Repa-Slice.html#t:Slice">Slice</a> sl, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl), <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl), <a href="Data-Array-Repa.html#t:Source">Source</a> r e) =&gt; sl -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (<a href="Data-Array-Repa-Slice.html#t:SliceShape">SliceShape</a> sl) e -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (<a href="Data-Array-Repa-Slice.html#t:FullShape">FullShape</a> sl) e</p><div class="doc"><p>Extend an array, according to a given slice specification.</p><p>For example, to replicate the rows of an array use the following:</p><pre>extend (Any :. (5::Int) :. All) arr</pre></div></div><h2 id="g:9">Structure preserving operations</h2><div class="top"><p class="src"><a name="v:map" class="def">map</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a) =&gt; (a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh b</p><div class="doc"><p>Apply a worker function to each element of an array, 
   yielding a new array with the same extent.</p></div></div><div class="top"><p class="src"><a name="v:zipWith" class="def">zipWith</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b) =&gt; (a -&gt; b -&gt; c) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c</p><div class="doc"><p>Combine two arrays, element-wise, with a binary operator.
      If the extent of the two array arguments differ,
      then the resulting array's extent is their intersection.</p></div></div><div class="top"><p class="src"><a name="v:-43--94-" class="def">(+^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c <span class="fixity">infixl 6</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:-45--94-" class="def">(-^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c <span class="fixity">infixl 6</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:-42--94-" class="def">(*^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c <span class="fixity">infixl 7</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><a name="v:-47--94-" class="def">(/^)</a> :: (<a href="../base-4.8.2.0/Prelude.html#t:Fractional">Fractional</a> c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 c) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh c <span class="fixity">infixl 7</span><span class="rightedge"></span></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:Structured" class="def">Structured</a> r1 a b <span class="keyword">where</span></p><div class="doc"><p>Structured versions of <code>map</code> and <code>zipWith</code> that preserve the representation
   of cursored and partitioned arrays. </p><p>For cursored (<code>C</code>) arrays, the cursoring of the source array is preserved.</p><p>For partitioned (<code>P</code>) arrays, the worker function is fused with each array
   partition separately, instead of treating the whole array as a single
   bulk object. </p><p>Preserving the cursored and/or paritioned representation of an array 
   is will make follow-on computation more efficient than if the array was
   converted to a vanilla Delayed (<code>D</code>) array as with plain <code><a href="Data-Array-Repa.html#v:map">map</a></code> and <code><a href="Data-Array-Repa.html#v:zipWith">zipWith</a></code>.</p><p>If the source array is not cursored or partitioned then <code><a href="Data-Array-Repa.html#v:smap">smap</a></code> and 
   <code><a href="Data-Array-Repa.html#v:szipWith">szipWith</a></code> are identical to the plain functions.</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a name="t:TR" class="def">TR</a> r1</p><div class="doc"><p>The target result representation.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:smap" class="def">smap</a> :: <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh =&gt; (a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> (<a href="Data-Array-Repa.html#t:TR">TR</a> r1) sh b</p><div class="doc"><p>Structured <code>map</code>.</p></div><p class="src"><a name="v:szipWith" class="def">szipWith</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r c) =&gt; (c -&gt; a -&gt; b) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> (<a href="Data-Array-Repa.html#t:TR">TR</a> r1) sh b</p><div class="doc"><p>Structured <code>zipWith</code>.
   If you have a cursored or partitioned source array then use that as
   the third argument (corresponding to <code>r1</code> here)</p></div></div><div class="subs instances"><p id="control.i:Structured" class="caption collapser" onclick="toggleSection('i:Structured')">Instances</p><div id="section.i:Structured" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa.html#t:D">D</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa-Repr-ByteString.html#t:B">B</a> <a href="../base-4.8.2.0/Data-Word.html#t:Word8">Word8</a> b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Foreign-Storable.html#t:Storable">Storable</a> a =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa-Repr-ForeignPtr.html#t:F">F</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa.html#t:U">U</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa-Repr-Undefined.html#t:X">X</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> <a href="Data-Array-Repa-Repr-Cursored.html#t:C">C</a> a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> r1 a b =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> (<a href="Data-Array-Repa-Repr-HintSmall.html#t:S">S</a> r1) a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="Data-Array-Repa.html#t:Structured">Structured</a> r1 a b =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> (<a href="Data-Array-Repa-Repr-HintInterleave.html#t:I">I</a> r1) a b</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="Data-Array-Repa.html#t:Structured">Structured</a> r1 a b, <a href="Data-Array-Repa.html#t:Structured">Structured</a> r2 a b) =&gt; <a href="Data-Array-Repa.html#t:Structured">Structured</a> (<a href="Data-Array-Repa-Repr-Partitioned.html#t:P">P</a> r1 r2) a b</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:10">Generic traversal</h2><div class="top"><p class="src"><a name="v:traverse" class="def">traverse</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a</td><td class="doc"><p>Source array.</p></td></tr><tr><td class="src">-&gt; (sh -&gt; sh')</td><td class="doc"><p>Function to produce the extent of the result.</p></td></tr><tr><td class="src">-&gt; ((sh -&gt; a) -&gt; sh' -&gt; b)</td><td class="doc"><p>Function to produce elements of the result.
   It is passed a lookup function to get elements of the source.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh' b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Unstructured traversal.</p></div></div><div class="top"><p class="src"><a name="v:traverse2" class="def">traverse2</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh', <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh'')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a</td><td class="doc"><p>First source array.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh' b</td><td class="doc"><p>Second source array.</p></td></tr><tr><td class="src">-&gt; (sh -&gt; sh' -&gt; sh'')</td><td class="doc"><p>Function to produce the extent of the result.</p></td></tr><tr><td class="src">-&gt; ((sh -&gt; a) -&gt; (sh' -&gt; b) -&gt; sh'' -&gt; c)</td><td class="doc"><p>Function to produce elements of the result.
   It is passed lookup functions to get elements of the
   source arrays.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh'' c</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Unstructured traversal over two arrays at once.</p></div></div><div class="top"><p class="src"><a name="v:traverse3" class="def">traverse3</a> :: <span class="keyword">forall</span> r1 r2 r3 sh1 sh2 sh3 sh4 a b c d. (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 c, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh3, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh4) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 sh3 c -&gt; (sh1 -&gt; sh2 -&gt; sh3 -&gt; sh4) -&gt; ((sh1 -&gt; a) -&gt; (sh2 -&gt; b) -&gt; (sh3 -&gt; c) -&gt; sh4 -&gt; d) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh4 d</p><div class="doc"><p>Unstructured traversal over three arrays at once.</p></div></div><div class="top"><p class="src"><a name="v:traverse4" class="def">traverse4</a> :: <span class="keyword">forall</span> r1 r2 r3 r4 sh1 sh2 sh3 sh4 sh5 a b c d e. (<a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 b, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 c, <a href="Data-Array-Repa.html#t:Source">Source</a> r4 d, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh1, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh2, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh3, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh4, <a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh5) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh1 a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh2 b -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 sh3 c -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r4 sh4 d -&gt; (sh1 -&gt; sh2 -&gt; sh3 -&gt; sh4 -&gt; sh5) -&gt; ((sh1 -&gt; a) -&gt; (sh2 -&gt; b) -&gt; (sh3 -&gt; c) -&gt; (sh4 -&gt; d) -&gt; sh5 -&gt; e) -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> sh5 e</p><div class="doc"><p>Unstructured traversal over four arrays at once.</p></div></div><h2 id="g:11">Interleaving</h2><div class="top"><p class="src"><a name="v:interleave2" class="def">interleave2</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</p><div class="doc"><p>Interleave the elements of two arrays.
   All the input arrays must have the same extent, else <code><a href="../base-4.8.2.0/Prelude.html#v:error">error</a></code>.
   The lowest dimension of the result array is twice the size of the inputs.</p><pre> interleave2 a1 a2   b1 b2  =&gt;  a1 b1 a2 b2
             a3 a4   b3 b4      a3 b3 a4 b4
</pre></div></div><div class="top"><p class="src"><a name="v:interleave3" class="def">interleave3</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</p><div class="doc"><p>Interleave the elements of three arrays.</p></div></div><div class="top"><p class="src"><a name="v:interleave4" class="def">interleave4</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r3 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r4 a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r3 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r4 (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:D">D</a> (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a</p><div class="doc"><p>Interleave the elements of four arrays.</p></div></div><h2 id="g:12">Reduction</h2><div class="top"><p class="src"><a name="v:foldP" class="def">foldP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a)</p><div class="doc"><p>Parallel reduction of the innermost dimension of an arbitray rank array.</p><p>The first argument needs to be an associative sequential operator.
   The starting element must be neutral with respect to the operator, for
   example <code>0</code> is neutral with respect to <code>(+)</code> as <code>0 + a = a</code>.
   These restrictions are required to support parallel evaluation, as the
   starting element may be used multiple times depending on the number of threads.</p><p>Elements are reduced in the order of their indices, from lowest to highest.
   Applications of the operator are associatied arbitrarily.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let c 0 x = x; c x 0 = x; c x y = y
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = fromListUnboxed (Z :. 2 :. 2) [1,2,3,4] :: Array U (Z :. Int :. Int) Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>foldP c 0 a
</code></strong>AUnboxed (Z :. 2) (fromList [2,4])
</pre></div></div><div class="top"><p class="src"><a name="v:foldS" class="def">foldS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</p><div class="doc"><p>Sequential reduction of the innermost dimension of an arbitrary rank array.</p><p>Combine this with <code>transpose</code> to fold any other dimension.</p><p>Elements are reduced in the order of their indices, from lowest to highest.
   Applications of the operator are associatied arbitrarily.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let c 0 x = x; c x 0 = x; c x y = y
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = fromListUnboxed (Z :. 2 :. 2) [1,2,3,4] :: Array U (Z :. Int :. Int) Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>foldS c 0 a
</code></strong>AUnboxed (Z :. 2) (fromList [2,4])
</pre></div></div><div class="top"><p class="src"><a name="v:foldAllP" class="def">foldAllP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; m a</p><div class="doc"><p>Parallel reduction of an array of arbitrary rank to a single scalar value.</p><p>The first argument needs to be an associative sequential operator.
   The starting element must be neutral with respect to the operator,
   for example <code>0</code> is neutral with respect to <code>(+)</code> as <code>0 + a = a</code>.
   These restrictions are required to support parallel evaluation, as the
   starting element may be used multiple times depending on the number of threads.</p><p>Elements are reduced in row-major order. Applications of the operator are
   associated arbitrarily.</p></div></div><div class="top"><p class="src"><a name="v:foldAllS" class="def">foldAllS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; (a -&gt; a -&gt; a) -&gt; a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; a</p><div class="doc"><p>Sequential reduction of an array of arbitrary rank to a single scalar value.</p><p>Elements are reduced in row-major order. Applications of the operator are
   associated arbitrarily.</p></div></div><div class="top"><p class="src"><a name="v:sumP" class="def">sumP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a)</p><div class="doc"><p>Parallel sum the innermost dimension of an array.</p></div></div><div class="top"><p class="src"><a name="v:sumS" class="def">sumS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r (sh <a href="Data-Array-Repa-Index.html#t::.">:.</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a>) a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> sh a</p><div class="doc"><p>Sequential sum the innermost dimension of an array.</p></div></div><div class="top"><p class="src"><a name="v:sumAllP" class="def">sumAllP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; m a</p><div class="doc"><p>Parallel sum all the elements of an array.</p></div></div><div class="top"><p class="src"><a name="v:sumAllS" class="def">sumAllS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r a, <a href="Data-Array-Repa-Eval.html#t:Elt">Elt</a> a, <a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r sh a -&gt; a</p><div class="doc"><p>Sequential sum of all the elements of an array.</p></div></div><div class="top"><p class="src"><a name="v:equalsP" class="def">equalsP</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh a -&gt; m <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Check whether two arrays have the same shape and contain equal elements,
   in parallel.</p></div></div><div class="top"><p class="src"><a name="v:equalsS" class="def">equalsS</a> :: (<a href="Data-Array-Repa-Shape.html#t:Shape">Shape</a> sh, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> sh, <a href="Data-Array-Repa.html#t:Source">Source</a> r1 a, <a href="Data-Array-Repa.html#t:Source">Source</a> r2 a, <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a) =&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r1 sh a -&gt; <a href="Data-Array-Repa.html#t:Array">Array</a> r2 sh a -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></p><div class="doc"><p>Check whether two arrays have the same shape and contain equal elements,
   sequentially.</p></div></div><h2 id="g:13">Selection</h2><div class="top"><p class="src"><a name="v:selectP" class="def">selectP</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Data-Array-Repa-Repr-Unboxed.html#t:Unbox">Unbox</a> a, <a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>If the Int matches this predicate,</p></td></tr><tr><td class="src">-&gt; (<a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a> -&gt; a)</td><td class="doc"><p>... then pass it to this fn to produce a value</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>Range between 0 and this maximum.</p></td></tr><tr><td class="src">-&gt; m (<a href="Data-Array-Repa.html#t:Array">Array</a> <a href="Data-Array-Repa.html#t:U">U</a> <a href="Data-Array-Repa-Index.html#t:DIM1">DIM1</a> a)</td><td class="doc"><p>Array containing produced values.</p></td></tr></table></div><div class="doc"><p>Produce an array by applying a predicate to a range of integers.
   If the predicate matches, then use the second function to generate
   the element.</p><ul><li>This is a low-level function helpful for writing filtering
     operations on arrays.</li><li>Use the integer as the index into the array you're filtering.</li></ul></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>